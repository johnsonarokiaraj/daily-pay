<table class="table">
  <tr>
    <td class="col-md-2"><h3 class="title"><span class="fa fa-balance-scale"></span> Budget</h3></td>
    <td class="col-md-10">
      <div class="msg">
        <% if flash[:alert].present? %>
          <div class="alert alert-danger"><%= flash[:alert] %></div>
        <% end %>
        <% if flash[:notice].present? %>
          <div class="alert alert-success"><%= flash[:notice] %></div>
        <% end %>
      </div>
    </td>
  </tr>
</table>

<table class="table table-striped table-bordered">
  <%= form_with model: @budgets, url: budgets_path, remote: true, html: { id: "budget-form" } do |f| %>
  <tr>
    <td class="col-md-4"><label>Tag</label><%= f.select :tag_id, options_for_select(@all_tags), { prompt: "Select a tag" }, class: "form-control" %>
    </td>
    <td class="col-md-2"><label>Amount</label><%= f.text_field :amount, placeholder: "Enter the limit", value: "", class: "form-control" %></td>
    <td class="col-md-2"><label>Start date</label><%= f.text_field :start_date, value: "", class: "form-control datepicker month-start-date"%></td>
    <td class="col-md-2"><label>End date</label><%= f.text_field :end_date, value: "", class: "form-control datepicker month-end-date"%></td>
    <td class="col-md-1"><button type="submit" class="btn btn-primary table-btn">Add</button></td>
  </tr>
  <% end %>
</table>

<table class="table table-striped table-bordered">
  <% if @budgets.present? %>
    <thead>
    <tr>
      <th class="col-md-3">Tag</th>
      <th class="col-md-2">Amount</th>
      <th class="col-md-3">Start date</th>
      <th class="col-md-3">End date</th>
      <th class="col-md-3">Action</th>
    </tr>
    </thead>
    <tbody>
    <% @budgets.each do |budget| %>
      <tr>
        <td><%= budget.tag.name %></td>
        <td><%= budget.amount %></td>
        <td><%= budget.start_date %></td>
        <td><%= budget.end_date %></td>
        <td>
          <a href="#" class="fa fa-pencil-square-o" title="disabled"></a>
          <%= link_to '', budget_path(budget.id), method: :delete, class: 'fa fa-trash-o text-danger', data: { confirm: 'Really delete this tag?' }, title: 'Delete' %>
        </td>
      </tr>
    <% end %>
    </tbody>
  <% else %>
    <tr>
      <td colspan="3" class="text-center alert alert-info">No  budget are available to display</td>
    </tr>
  <% end %>
</table>

