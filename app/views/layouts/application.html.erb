<!DOCTYPE html>
<html>
  <head>
    <title>Daily Pay - Personal Finance Tracker</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_pack_tag 'application', 'data-turbo-track': 'reload' %>
    <%= stylesheet_pack_tag 'application', 'data-turbo-track': 'reload' if Rails.env.production? %>
  </head>

  <body>
    <% if @render_with_sidebar %>
      <div class="app-container" style="display: flex; min-height: 100vh;">
        <!-- Sidebar -->
        <div class="sidebar" style="width: 250px; background-color: #001529; color: white; padding: 20px;">
          <h2 style="color: white; margin-bottom: 20px;">Daily Pay</h2>
          <ul style="list-style: none; padding: 0;">
            <li style="margin-bottom: 10px;"><a href="/" style="color: #fff; text-decoration: none;">Dashboard</a></li>
            <li style="margin-bottom: 10px;"><a href="/transactions" style="color: #fff; text-decoration: none;">Transactions</a></li>
            <li style="margin-bottom: 10px;"><a href="/tag_insights_boards" style="color: #fff; text-decoration: none;">Compare Dashboard</a></li>
            <!-- Add other sidebar items as needed -->
          </ul>
        </div>

        <!-- Main content -->
        <div class="main-content" style="flex: 1; padding: 20px; background-color: #f5f5f5;">
          <%= yield %>
        </div>
      </div>
    <% else %>
      <%= yield %>
    <% end %>

    <% if @render_with_sidebar && @show_in_dashboard %>
      <script>
        // This script ensures the sidebar is visible and the content fits properly
        document.addEventListener('DOMContentLoaded', function() {
          // Add any additional JavaScript needed for sidebar behavior
        });
      </script>
    <% end %>
  </body>
</html>
